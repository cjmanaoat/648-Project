<!--
	search.html
	Description: This is the search results page after
	executing the search function from the search bar.
	The search will send a query to our DB to retrieve
	the results that closely match the text that the user 
	inputted. There will be buttons to sort how the information will 
	be displayed.
-->
{% extends "base.html" %}
{% block content %}

<head>
  <title>SFSU TradeMart</title>
  <style>
    div.list-group_a {
      position: relative;
      left: auto;
      width: 100px;
      height: 120px;
    }

    div.dropdown_a {
      position: absolute;
      right: 100px;
      width: 100px;
      height: 120px;
    }

    div.footer_1 {
      text-align: center;
      bottom: 0;
      width: 100%;
      position: fixed;

    }

    p {
      text-align: left;
    }

    .listingImage {
      width: 100%;
      height: 300px;
    }
  </style>
</head>
 
    <!-- <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Sorted By
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
      <button class="dropdown-item" type="button">Best Match</button> 
      <button class="dropdown-item" type="button">Prices Low to High</button>
      <button class="dropdown-item" type="button">Prices High to Low</button>
    </div> -->
 

<!-- 
<div class="list-group_a">
    <button type="button" class="list-group-item list-group-item-action" disabled>Items</button>
    <button type="button" class="list-group-item list-group-item-action">Books</button>
    <button type="button" class="list-group-item list-group-item-action">Electronics</button>
    <button type="button" class="list-group-item list-group-item-action">Furniture</button>
    <button type="button" class="list-group-item list-group-item-action" disabled>Services</button>
    <button type="button" class="list-group-item list-group-item-action">Tutoring</button>
    <button type="button" class="list-group-item list-group-item-action">Editing</button>
  </div>
-->
<!-- {{"search:" +searchItem}} -->
<form method="POST" action="#">
  <input type="hidden" name="item" value="{{searchItem}}">
  <input type="hidden" name="category-select" value="{{filter}}">
  <div class="category-dropdown" style="display: flex; justify-content: right;">
    <div id="category-dropdown">
      <select name="filterCategory" id="categorySelect" onchange="this.form.submit()">
        <option>Sorted By</option>
        <!-- <input type="hidden" name="priceFilterAsc" value="priceFilterAsc"> -->
        <option name="priceFilterAsc" >
          <button type="submit" style="background: none; border: none;" onclick="">
            Prices Low to High
          </button>
        </option>
        <!-- <input type="hidden" name="priceFilterDesc" value="priceFilterDesc"> -->
        <option name="priceFilterDesc" >
          <button type="submit" style="background: none; border: none;">
            Prices High to low
          </button>
        </option>
      </select>
    </div>
    
  </div>
<center>
  {% for listing in data %}
  {% set fileName = listing[3]|string %}
  {% set path = "static/listing_images/" + fileName+".jpg" %}
  <tr>
    <div class="row">
      <div class="col-3">
        <img class="listingImg" src="{{path}}" width="300" height="300">
        <br>
        <center>
          <p style="font-size: 1.5vw;"> <b>{{listing[0]}} </b> </p>
        </center>
        <br>
      </div>
      <div class="col-9">
        <p style="font-size: 2vw;">Suggested Price: <b> ${{listing[1]}}</b></p>
        <br>
        <p style="font-size: 1.25vw;">Description: {{listing[4]}} </p>
        <br>
        <p style="font-size: 1.25vw;">Quality: {{listing[5]}} </p>
        <br>
        <div class="btn-toolbar justify-content-between">
          <div class="btn-group" role="group" aria-label="Contact Seller">
            <a href="contact.html" class="btn btn-info" role="button">Contact Seller</a>
            <!--- <button type="button" class="btn btn-primary">Contact Seller</button> -->
          </div>
        </div>
      </div>
      <!--
        <div>
          <div class="col-4">
          <p style="font-size: 1vw;">Description: {{listing[4]}} </p>
          </div>
        </div> -->
    </div>
    <!--- <td><img src = "{{path}}" width="300" height="300"> </td>
        <br>
        <td> {{listing[0]}} </td>
        </br>
        <td> ${{listing[1]}}</td>
        <br>
      -->
    {% endfor %}
  </tr>

</center>
<!-- 
 This will later be used to figure out Pages for the Search result Page 
<div class="footer_1">
<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
      <li class="page-item disabled">
        <a class="page-link" href="#" tabindex="-1">Previous</a>
      </li>
      <li class="page-item"><a class="page-link" href="#">1</a></li>
      <li class="page-item"><a class="page-link" href="#">2</a></li>
      <li class="page-item"><a class="page-link" href="#">3</a></li>
      <li class="page-item">
        <a class="page-link" href="#">Next</a>
      </li>
    </ul>
  </nav>
</div>
-->
{% endblock %}